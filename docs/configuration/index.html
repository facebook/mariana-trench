<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-configuration">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Analysis Configuration Options | Mariana Trench</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mariana-tren.ch/docs/configuration/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Analysis Configuration Options | Mariana Trench"><meta data-rh="true" name="description" content="Mariana Trench is highly configurable and we recommend that you invest time into adjusting the tool to your specific use cases. At Meta, we have dedicated security engineers that will spend a significant amount of their time adding new rules and model generators to improve the analysis results."><meta data-rh="true" property="og:description" content="Mariana Trench is highly configurable and we recommend that you invest time into adjusting the tool to your specific use cases. At Meta, we have dedicated security engineers that will spend a significant amount of their time adding new rules and model generators to improve the analysis results."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mariana-tren.ch/docs/configuration/"><link data-rh="true" rel="alternate" href="https://mariana-tren.ch/docs/configuration/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mariana-tren.ch/docs/configuration/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mariana Trench RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mariana Trench Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e56ff910.css">
<link rel="preload" href="/assets/js/runtime~main.afae28d5.js" as="script">
<link rel="preload" href="/assets/js/main.d7e882de.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Mariana Trench</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/mariana-trench" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/known-false-negatives/">Mariana Trench Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/known-false-negatives/">Known False Negatives</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/getting-started/">User Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/configuration/">Analysis Configuration Options</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/customize-sources-and-sinks/">Model/Taint Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/shims/">Call Graph Configuration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/feature-descriptions/">Feature Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/build-from-source/">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build-from-source/">Build from Source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/debugging-fp-fns/">Debugging False Positives/False Negatives</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Analysis Configuration Options</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Analysis Configuration Options</h1></header><p>Mariana Trench is highly configurable and we recommend that you invest time into adjusting the tool to your specific use cases. At Meta, we have dedicated security engineers that will spend a significant amount of their time adding new rules and model generators to improve the analysis results.</p><p>This page will cover the more important, non-trivial configuration options. Note that you will spend most of your time configuring Mariana Trench writing model generators. These are covered in the <a href="/docs/models/">Models and Model Generators</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="command-line-options">Command Line Options<a class="hash-link" href="#command-line-options" title="Direct link to heading">â€‹</a></h2><p>You can get a full set of options by running <code>mariana-trench --help</code>. The following is an abbreviated version of the output.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ mariana-trench --help</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Target arguments:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --apk-path APK_PATH   The APK to analyze.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Output arguments:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --output-directory OUTPUT_DIRECTORY</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        The directory to store results in.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration arguments:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --system-jar-configuration-path SYSTEM_JAR_CONFIGURATION_PATH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        A JSON configuration </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> with a list of paths to the system jars.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --rules-paths RULES_PATHS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        A </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain">-separated list of rules files and directories containing rules files.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --repository-root-directory REPOSITORY_ROOT_DIRECTORY</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        The root of the repository. Resulting paths will be relative to this.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --source-root-directory SOURCE_ROOT_DIRECTORY</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        The root where </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> files </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> the APK can be found.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --model-generator-configuration-paths MODEL_GENERATOR_CONFIGURATION_PATHS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        A </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain">-separated list of paths specifying JSON configuration files. Each </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> is a list of paths to JSON model generators relative to the</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        configuration </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> or names of CPP model generators.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --model-generator-search-paths MODEL_GENERATOR_SEARCH_PATHS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        A </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain">-separated list of paths where we </span><span class="token function" style="color:rgb(130, 170, 255)">look</span><span class="token plain"> up JSON model generators.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --maximum-source-sink-distance MAXIMUM_SOURCE_SINK_DISTANCE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        Limits the distance of sources and sinks from a trace entry point.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--apk-path"><code>--apk-path</code><a class="hash-link" href="#--apk-path" title="Direct link to heading">â€‹</a></h4><p>Mariana Trench analyzes Dalvik bytecode. You provide it with the android app (APK) to analyze.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--output-directory-output_directory"><code>--output-directory OUTPUT_DIRECTORY</code><a class="hash-link" href="#--output-directory-output_directory" title="Direct link to heading">â€‹</a></h4><p>The output of the analysis is a file containing metadata about the particular run in JSON format as well as sharded files containing data flow specifications for every method in the APK. These files need to be processed by SAPP (see <a href="/docs/getting-started/">Getting Started</a>) after the analysis. The flag specifies where these files are saved.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--system-jar-configuration-path-system_jar_configuration_path"><code>--system-jar-configuration-path SYSTEM_JAR_CONFIGURATION_PATH</code><a class="hash-link" href="#--system-jar-configuration-path-system_jar_configuration_path" title="Direct link to heading">â€‹</a></h4><p>This path points to a json file containing a list of <code>.jar</code> files that the analysis should include in the analysis. It&#x27;s important that this contains at least the <code>android.jar</code> on your system. This file is typically located in your android SDK distribution at <code>$ANDROID_SDK/platforms/android-30/android.jar</code>. Without the <code>android.jar</code>, Mariana Trench will not know about many methods from the standard library that might be important for your model generators.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--rules-paths-rules_paths"><code>--rules-paths RULES_PATHS</code><a class="hash-link" href="#--rules-paths-rules_paths" title="Direct link to heading">â€‹</a></h4><p>A <code>;</code> separated search path pointing to files and directories containing rules files. These files specify what taint flows Mariana Trench should look for. Check out the <a href="https://github.com/facebook/mariana-trench/blob/main/configuration/rules.json#L2-L13" target="_blank" rel="noopener noreferrer"><code>rules.json</code></a> that&#x27;s provided by default. It specifies that we want to find flows from user controlled input (<code>ActivityUserInput</code>) into <code>CodeExecution</code> sinks and that this constitutes a remote code execution.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--source-root-directory-source_root_directory"><code>--source-root-directory SOURCE_ROOT_DIRECTORY</code><a class="hash-link" href="#--source-root-directory-source_root_directory" title="Direct link to heading">â€‹</a></h4><p>Mariana Trench will do a source indexing path before the analysis. This is because Dalvik/Java bytecode does not contain complete location information, only filenames (not paths) and line numbers. The index is later used to emit precise locations.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--model-generator-configuration-paths-model_generator_configuration_paths"><code>--model-generator-configuration-paths MODEL_GENERATOR_CONFIGURATION_PATHS</code><a class="hash-link" href="#--model-generator-configuration-paths-model_generator_configuration_paths" title="Direct link to heading">â€‹</a></h4><p>A <code>;</code> separated set of files containing the names of model generators to run. See <a href="https://github.com/facebook/mariana-trench/blob/main/configuration/default_generator_config.json" target="_blank" rel="noopener noreferrer"><code>default_generator_config.json</code></a> for an example.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--model-generator-search-paths-model_generator_search_paths"><code>--model-generator-search-paths MODEL_GENERATOR_SEARCH_PATHS</code><a class="hash-link" href="#--model-generator-search-paths-model_generator_search_paths" title="Direct link to heading">â€‹</a></h4><p>A <code>;</code> separated search path where Mariana Trench will try to find the model generators specified in the generator configuration.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--maximum-source-sink-distance-maximum_source_sink_distance"><code>--maximum-source-sink-distance MAXIMUM_SOURCE_SINK_DISTANCE</code><a class="hash-link" href="#--maximum-source-sink-distance-maximum_source_sink_distance" title="Direct link to heading">â€‹</a></h4><p>For performance reasons it can be useful to limit the maximum length of a trace Mariana Trench tries to find (note that longer traces also tend to be harder to interpret). Due to the modular nature of the analysis the value specified here limits the maximum length from the trace root to the source, and from the trace root to the sink. This means found traces can have length of <code>2 x MAXIMUM_SOURCE_SINK_DISTANCE</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="--heuristics-heuristics_file_path"><code>--heuristics HEURISTICS_FILE_PATH</code><a class="hash-link" href="#--heuristics-heuristics_file_path" title="Direct link to heading">â€‹</a></h4><p>Mariana Trench uses various heuristics parameters during the analysis. It is possible to set some of them with a JSON configuration file. The complete list of configurable parameters is reported in the <a href="#heuristics-parameters">heuristics parameters section</a>. It is optional to specify a configuration for the heuristics parameters, and the the parameters that are not specified are set to a default value.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="heuristics-parameters">Heuristics Parameters<a class="hash-link" href="#heuristics-parameters" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="join_override_threshold-int"><code>join_override_threshold INT</code><a class="hash-link" href="#join_override_threshold-int" title="Direct link to heading">â€‹</a></h4><p>When a method has a set of overrides greater than this threshold, Mariana Trench does not join all overrides at call sites.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="android_join_override_threshold-int"><code>android_join_override_threshold INT</code><a class="hash-link" href="#android_join_override_threshold-int" title="Direct link to heading">â€‹</a></h4><p>When an android/java/google method has a set of overrides which is greater than this threshold, Mariana Trench does not join all overrides at call sites.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="warn_override_threshold-int"><code>warn_override_threshold INT</code><a class="hash-link" href="#warn_override_threshold-int" title="Direct link to heading">â€‹</a></h4><p>When a method which has a set of overrides greater than this threshold that is not marked with <code>NoJoinVirtualOverrides</code> is called at least once, Mariana Trench prints a warning.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generation_max_port_size-int"><code>generation_max_port_size INT</code><a class="hash-link" href="#generation_max_port_size-int" title="Direct link to heading">â€‹</a></h4><p>Maximum size of the port of a generation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generation_max_output_path_leaves-int"><code>generation_max_output_path_leaves INT</code><a class="hash-link" href="#generation_max_output_path_leaves-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of leaves in the tree of output paths of generations. When reaching the maximum, Mariana Trench collapses all the subtrees into a single node.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameter_source_max_port_size-int"><code>parameter_source_max_port_size INT</code><a class="hash-link" href="#parameter_source_max_port_size-int" title="Direct link to heading">â€‹</a></h4><p>Maximum size of the port of a parameter source.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameter_source_max_output_path_leaves-int"><code>parameter_source_max_output_path_leaves INT</code><a class="hash-link" href="#parameter_source_max_output_path_leaves-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of leaves in the tree of output paths of parameter sources. When reaching the maximum, Mariana Trench collapses all the subtrees into a single node.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sink_max_port_size-int"><code>sink_max_port_size INT</code><a class="hash-link" href="#sink_max_port_size-int" title="Direct link to heading">â€‹</a></h4><p>Maximum size of the port of a sink.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sink_max_input_path_leaves-int"><code>sink_max_input_path_leaves INT</code><a class="hash-link" href="#sink_max_input_path_leaves-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of leaves in the tree of input paths of sinks. When reaching the maximum, Mariana Trench collapses all the subtrees into a single node.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="call_effect_source_max_port_size-int"><code>call_effect_source_max_port_size INT</code><a class="hash-link" href="#call_effect_source_max_port_size-int" title="Direct link to heading">â€‹</a></h4><p>Maximum size of the port of a call effect source.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="call_effect_source_max_output_path_leaves-int"><code>call_effect_source_max_output_path_leaves INT</code><a class="hash-link" href="#call_effect_source_max_output_path_leaves-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of leaves in the tree of output paths of call effect sources. When reaching the maximum, Mariana Trench collapses all the subtrees into a single node.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="call_effect_sink_max_port_size-int"><code>call_effect_sink_max_port_size INT</code><a class="hash-link" href="#call_effect_sink_max_port_size-int" title="Direct link to heading">â€‹</a></h4><p>Maximum size of the port of a call effect sink.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="call_effect_sink_max_input_path_leaves-int"><code>call_effect_sink_max_input_path_leaves INT</code><a class="hash-link" href="#call_effect_sink_max_input_path_leaves-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of leaves in the tree of input paths of call effect sinks. When reaching the maximum, Mariana Trench collapses all the subtrees into a single node.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="max_number_iterations-int"><code>max_number_iterations INT</code><a class="hash-link" href="#max_number_iterations-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of global iterations before Mariana Trench aborts the analysis.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="max_depth_class_properties-int"><code>max_depth_class_properties INT</code><a class="hash-link" href="#max_depth_class_properties-int" title="Direct link to heading">â€‹</a></h4><p>Maximum depth of dependency graph traversal to find class properties.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="max_call_chain_source_sink_distance-int"><code>max_call_chain_source_sink_distance INT</code><a class="hash-link" href="#max_call_chain_source_sink_distance-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of hops that can be tracked for a call chain issue.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="propagation_max_input_path_size-int"><code>propagation_max_input_path_size INT</code><a class="hash-link" href="#propagation_max_input_path_size-int" title="Direct link to heading">â€‹</a></h4><p>Maximum size of the input access path of a propagation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="propagation_max_input_path_leaves-int"><code>propagation_max_input_path_leaves INT</code><a class="hash-link" href="#propagation_max_input_path_leaves-int" title="Direct link to heading">â€‹</a></h4><p>Maximum number of leaves in the tree of input paths of propagations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="heuristics-parameter-configuration-example">Heuristics Parameter Configuration Example<a class="hash-link" href="#heuristics-parameter-configuration-example" title="Direct link to heading">â€‹</a></h3><p>The following JSON document is a valid configuration file for the heuristics parameters.
Typically, we try to find a balance between precision of the analysis and performance.</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;join_override_threshold&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;android_join_override_threshold&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;warn_override_threshold&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;generation_max_port_size&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;generation_max_output_path_leaves&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;parameter_source_max_port_size&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;parameter_source_max_output_path_leaves&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;sink_max_port_size&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;sink_max_input_path_leaves&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;call_effect_source_max_port_size&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;call_effect_source_max_output_path_leaves&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;call_effect_sink_max_port_size&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;call_effect_sink_max_input_path_leaves&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;max_number_iterations&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">300</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;max_depth_class_properties&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;max_call_chain_source_sink_distance&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;propagation_max_input_path_size&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;propagation_max_input_path_leaves&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/mariana-trench/tree/main/documentation/website/documentation/configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/getting-started/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Getting Started</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/customize-sources-and-sinks/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Customize Sources and Sinks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#command-line-options" class="table-of-contents__link toc-highlight">Command Line Options</a></li><li><a href="#heuristics-parameters" class="table-of-contents__link toc-highlight">Heuristics Parameters</a><ul><li><a href="#heuristics-parameter-configuration-example" class="table-of-contents__link toc-highlight">Heuristics Parameter Configuration Example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/metaOpenSource" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/mariana-trench" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2025 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.afae28d5.js"></script>
<script src="/assets/js/main.d7e882de.js"></script>
</body>
</html>